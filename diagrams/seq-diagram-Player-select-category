@startuml Prompt Player to Select Category
title Prompt Player to Select Category

skinparam sequenceReferenceBackgroundColor palegreen
skinparam sequenceReferenceHeaderBackgroundColor  mediumseagreen

actor Opponent as Player2 #blue
boundary    UI2

participant Client1 #Plum
participant Client2 #Plum

box "Game Server" #LightSteelBlue
participant MessageServer as Server
participant ExecutiveLogic

end box

    Server <- ExecutiveLogic: query_server("OPPONENTS_CHOICE", [player_id, [category]]])
    note right
    Executive Logic selects the 
    appropriate player to choose
    the category from list of
     available categories
    end note
    
    Client2 <- Server: ("OPPONENTS_CHOICE",[category])

    UI2 <- Client2: updateDisplay("SELECT_CAT", [[category]])

    alt#MediumTurquoise Player responds
        Player2 -> UI2: selects category
        UI2 -> Client2: sendUserAnswer(category)
        Client2 --> Server: send(server,"OPPONENTS_CHOICE",[category]])
    Server --> ExecutiveLogic: storeQuery("OPPONENTS_CHOICE",[category])

    else No player response
        Server --> ExecutiveLogic: timeout()
        ExecutiveLogic -> ExecutiveLogic: randomCategory(availableCategory)
        break
        end
    end

@enduml