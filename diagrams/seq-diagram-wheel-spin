@startuml Respond to Wheel Spin
title Respond to Wheel Spin

skinparam sequenceReferenceBackgroundColor palegreen
skinparam sequenceReferenceHeaderBackgroundColor  mediumseagreen

participant Client1 #Plum
participant Client2 #Plum

box "Game Server" #LightSteelBlue
participant MessageServer as Server
participant ExecutiveLogic
participant GameBoard
participant ScoreKeeper
participant Wheel
end box

Server <- ExecutiveLogic: spinResult(playerID, spinResult, spinsRemain)
Client1 <- Server: send("spinDisplay", spinResult, spinsRemain)
Client2 <- Server: send("spinupdateDisplay", spinResult, spinsRemain)

alt#MediumTurquoise Player's or Opponent's Choice
    Server <- ExecutiveLogic: selectCategory(playerID, categories)
    Client1 <- Server: send("selectCategory", [categories])
    Client1 -> Server: send("Category", category)
    Server -> ExecutiveLogic: selectedCategory(category)

    loop#Gold until category is empty
            ref over Client1, ScoreKeeper
            Player Answers Question
        end ref
    end

else Category
    loop#Gold until category is empty
        ref over Client1, ScoreKeeper
            Player Answers Question
        end ref
    end




else  Free Spin
    ExecutiveLogic -> ScoreKeeper: addToken(playerID)

else Spin again
    ExecutiveLogic -> Wheel: getSpinResult()
else Bankrupt
    ExecutiveLogic -> ScoreKeeper: bankrupt(playerID)
    ExecutiveLogic -> ExecutiveLogic: nextPlayer()
else Lose Turn
    ExecutiveLogic -> ExecutiveLogic: nextPlayer()
end
    

@enduml
